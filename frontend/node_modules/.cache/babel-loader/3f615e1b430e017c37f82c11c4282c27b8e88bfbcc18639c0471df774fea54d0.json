{"ast":null,"code":"var _s = $RefreshSig$();\n// useFetch.js\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nconst useFetch = url => {\n  _s();\n  const [data, setData] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const res = await axios.get(url);\n        setData(res.data);\n        setLoading(false);\n      } catch (err) {\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [url]);\n  const deleteData = async (id, token) => {\n    setLoading(true);\n    try {\n      await axios.delete(`${url}/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setData(prevData => prevData.filter(item => item.id !== id));\n      setLoading(false);\n    } catch (err) {\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n  const updateData = async (id, updatedData, token) => {\n    setLoading(true);\n    try {\n      await axios.put(`${url}/${id}`, updatedData, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setData(prevData => prevData.map(item => item.id === id ? updatedData : item));\n      setLoading(false);\n    } catch (err) {\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n  return {\n    data,\n    error,\n    loading,\n    deleteData,\n    updateData\n  };\n};\n_s(useFetch, \"6nhoqVvctpRRYiww7uwVz/g7/BM=\");\nexport default useFetch;","map":{"version":3,"names":["useState","useEffect","axios","useFetch","url","_s","data","setData","error","setError","loading","setLoading","fetchData","res","get","err","message","deleteData","id","token","delete","headers","Authorization","prevData","filter","item","updateData","updatedData","put","map"],"sources":["A:/MockRw59/frontend/src/components/hooks/useFetch.js"],"sourcesContent":["// useFetch.js\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nconst useFetch = (url) => {\n  const [data, setData] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const res = await axios.get(url);\n        setData(res.data);\n        setLoading(false);\n      } catch (err) {\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [url]);\n\n  const deleteData = async (id, token) => {\n    setLoading(true);\n    try {\n      await axios.delete(`${url}/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setData((prevData) => prevData.filter((item) => item.id !== id));\n      setLoading(false);\n    } catch (err) {\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n\n  const updateData = async (id, updatedData, token) => {\n    setLoading(true);\n    try {\n      await axios.put(`${url}/${id}`, updatedData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setData((prevData) =>\n        prevData.map((item) => (item.id === id ? updatedData : item))\n      );\n      setLoading(false);\n    } catch (err) {\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n\n  return {\n    data,\n    error,\n    loading,\n    deleteData,\n    updateData,\n  };\n};\n\nexport default useFetch;\n"],"mappings":";AAAA;AACA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,MAAMC,QAAQ,GAAIC,GAAG,IAAK;EAAAC,EAAA;EACxB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAE7CC,SAAS,CAAC,MAAM;IACd,MAAMW,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5BD,UAAU,CAAC,IAAI,CAAC;MAChB,IAAI;QACF,MAAME,GAAG,GAAG,MAAMX,KAAK,CAACY,GAAG,CAACV,GAAG,CAAC;QAChCG,OAAO,CAACM,GAAG,CAACP,IAAI,CAAC;QACjBK,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC,OAAOI,GAAG,EAAE;QACZN,QAAQ,CAACM,GAAG,CAACC,OAAO,CAAC;QACrBL,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDC,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACR,GAAG,CAAC,CAAC;EAET,MAAMa,UAAU,GAAG,MAAAA,CAAOC,EAAE,EAAEC,KAAK,KAAK;IACtCR,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMT,KAAK,CAACkB,MAAM,CAAE,GAAEhB,GAAI,IAAGc,EAAG,EAAC,EAAE;QACjCG,OAAO,EAAE;UACPC,aAAa,EAAG,UAASH,KAAM;QACjC;MACF,CAAC,CAAC;MACFZ,OAAO,CAAEgB,QAAQ,IAAKA,QAAQ,CAACC,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACP,EAAE,KAAKA,EAAE,CAAC,CAAC;MAChEP,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOI,GAAG,EAAE;MACZN,QAAQ,CAACM,GAAG,CAACC,OAAO,CAAC;MACrBL,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMe,UAAU,GAAG,MAAAA,CAAOR,EAAE,EAAES,WAAW,EAAER,KAAK,KAAK;IACnDR,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMT,KAAK,CAAC0B,GAAG,CAAE,GAAExB,GAAI,IAAGc,EAAG,EAAC,EAAES,WAAW,EAAE;QAC3CN,OAAO,EAAE;UACPC,aAAa,EAAG,UAASH,KAAM;QACjC;MACF,CAAC,CAAC;MACFZ,OAAO,CAAEgB,QAAQ,IACfA,QAAQ,CAACM,GAAG,CAAEJ,IAAI,IAAMA,IAAI,CAACP,EAAE,KAAKA,EAAE,GAAGS,WAAW,GAAGF,IAAK,CAC9D,CAAC;MACDd,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOI,GAAG,EAAE;MACZN,QAAQ,CAACM,GAAG,CAACC,OAAO,CAAC;MACrBL,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,OAAO;IACLL,IAAI;IACJE,KAAK;IACLE,OAAO;IACPO,UAAU;IACVS;EACF,CAAC;AACH,CAAC;AAACrB,EAAA,CA9DIF,QAAQ;AAgEd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}